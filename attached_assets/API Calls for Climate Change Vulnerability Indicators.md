# API Calls for Climate Change Vulnerability Indicators

This document provides detailed API calls to retrieve data for each of the climate vulnerability indicators shown in the screenshot, organized by the three main components of the Climate Change Vulnerability Index (CCVI): Exposure, Sensitivity, and Adaptive Capacity.

## Common Query Parameters

Most API endpoints accept the following query parameters for filtering:
- `year`: Filter by specific survey year(s)
- `province`: Filter by province name(s)
- `district`: Filter by district name(s)
- `tehsil`: Filter by tehsil name(s)
- `area_classification`: Filter by area type (e.g., urban, rural)

These parameters can be provided as single values or arrays for multiple selections.

## Exposure Indicators

### 1. Average Level of Precipitation

```
GET /api/climate/climate/statistics
```

Example call:
```
GET /api/climate/climate/statistics?year=2022&province=Punjab&metric=precipitation
```

This endpoint returns climate statistics including precipitation data. You may need to filter the response to extract the specific precipitation metrics.

### 2. Average Level of Minimum and Maximum Temperature

```
GET /api/climate/climate/statistics
```

Example call:
```
GET /api/climate/climate/statistics?year=2022&province=Punjab&metric=temperature
```

This endpoint provides temperature statistics. The response likely includes both minimum and maximum temperature values that you can extract.

### 3. Water Level Depth

```
GET /api/climate/environmental/parameters
```

Example call:
```
GET /api/climate/environmental/parameters?year=2022&province=Punjab&parameter=water_level_depth
```

This endpoint returns environmental parameters including water level measurements.

### 4. Electrical Conductivity

```
GET /api/climate/environmental/parameters
```

Example call:
```
GET /api/climate/environmental/parameters?year=2022&province=Punjab&parameter=electrical_conductivity
```

This endpoint provides water quality parameters including electrical conductivity measurements.

### 5. Total Dissolved Solids

```
GET /api/climate/environmental/parameters
```

Example call:
```
GET /api/climate/environmental/parameters?year=2022&province=Punjab&parameter=total_dissolved_solids
```

This endpoint returns water quality parameters including total dissolved solids measurements.

### 6. Residual Sodium Bicarbonate

```
GET /api/climate/environmental/parameters
```

Example call:
```
GET /api/climate/environmental/parameters?year=2022&province=Punjab&parameter=residual_sodium_bicarbonate
```

This endpoint provides water quality parameters including residual sodium bicarbonate levels.

### 7. Sodium Absorption Ratio

```
GET /api/climate/environmental/parameters
```

Example call:
```
GET /api/climate/environmental/parameters?year=2022&province=Punjab&parameter=sodium_absorption_ratio
```

This endpoint returns water quality parameters including sodium absorption ratio measurements.

### 8. Wind Speed

```
GET /api/climate/climate/statistics
```

Example call:
```
GET /api/climate/climate/statistics?year=2022&province=Punjab&metric=wind_speed
```

This endpoint provides climate statistics including wind speed data.

### 9. Surface Pressure

```
GET /api/climate/climate/statistics
```

Example call:
```
GET /api/climate/climate/statistics?year=2022&province=Punjab&metric=surface_pressure
```

This endpoint returns climate statistics including atmospheric pressure measurements.

### Comprehensive Exposure Data

To get all exposure indicators at once, you can use:

```
GET /api/ccvi/exposure
```

Example call:
```
GET /api/ccvi/exposure?year=2022&province=Punjab&district=Lahore
```

This endpoint provides the complete exposure component data, which likely includes aggregated values for all the exposure indicators.

## Sensitivity Indicators

### 1. Material used for burning during cooking

```
GET /api/household/statistics
```

Example call:
```
GET /api/household/statistics?year=2022&province=Punjab&metric=cooking_fuel
```

This endpoint returns household statistics including data on cooking fuel types.

### 2. Source used for Drinking Water

```
GET /api/household/statistics
```

Example call:
```
GET /api/household/statistics?year=2022&province=Punjab&metric=drinking_water_source
```

This endpoint provides household statistics including data on drinking water sources.

### 3. Type of Residence

```
GET /api/household/statistics
```

Example call:
```
GET /api/household/statistics?year=2022&province=Punjab&metric=residence_type
```

This endpoint returns household statistics including data on types of residences.

### 4. Material used to build house walls

```
GET /api/household/statistics
```

Example call:
```
GET /api/household/statistics?year=2022&province=Punjab&metric=wall_material
```

This endpoint provides household statistics including data on house wall construction materials.

### 5. Material used to build house roof

```
GET /api/household/statistics
```

Example call:
```
GET /api/household/statistics?year=2022&province=Punjab&metric=roof_material
```

This endpoint returns household statistics including data on house roof construction materials.

### 6. Type of toilet facility in the household

```
GET /api/household/statistics
```

Example call:
```
GET /api/household/statistics?year=2022&province=Punjab&metric=toilet_facility
```

This endpoint provides household statistics including data on toilet facilities.

### 7. Households who have seen temporary migration

```
GET /api/household/statistics
```

Example call:
```
GET /api/household/statistics?year=2022&province=Punjab&metric=temporary_migration
```

This endpoint returns household statistics including data on temporary migration patterns.

### 8. Individuals above 65 years of age

```
GET /api/population/age-distribution
```

Example call:
```
GET /api/population/age-distribution?year=2022&province=Punjab&age_group=65_plus
```

This endpoint provides population age distribution data, which can be filtered to focus on elderly populations.

### 9. Households with Chronic Ill Patients

```
GET /api/household/statistics
```

Example call:
```
GET /api/household/statistics?year=2022&province=Punjab&metric=chronic_illness
```

This endpoint returns household statistics including data on chronic illness prevalence.

### 10. Households with PWDs*

```
GET /api/household/statistics
```

Example call:
```
GET /api/household/statistics?year=2022&province=Punjab&metric=persons_with_disabilities
```

This endpoint provides household statistics including data on households with persons with disabilities.

### 11. Households with Infant deaths in last 12 months

```
GET /api/household/statistics
```

Example call:
```
GET /api/household/statistics?year=2022&province=Punjab&metric=infant_mortality
```

This endpoint returns household statistics including data on infant mortality.

### Comprehensive Sensitivity Data

To get all sensitivity indicators at once, you can use:

```
GET /api/ccvi/sensitivity-index
```

Example call:
```
GET /api/ccvi/sensitivity-index?year=2022&province=Punjab&district=Lahore
```

This endpoint provides the complete sensitivity component data, which likely includes aggregated values for all the sensitivity indicators.

## Adaptive Capacity Indicators

### 1. Educated Individuals

```
GET /api/household/statistics
```

Example call:
```
GET /api/household/statistics?year=2022&province=Punjab&metric=education_level
```

This endpoint returns household statistics including data on education levels.

Alternative endpoint:
```
GET /api/population/summary
```

Example call:
```
GET /api/population/summary?year=2022&province=Punjab&metric=education
```

This endpoint provides population summary data which may include education statistics.

### 2. Employed Individuals

```
GET /api/household/statistics
```

Example call:
```
GET /api/household/statistics?year=2022&province=Punjab&metric=employment_status
```

This endpoint returns household statistics including data on employment status.

Alternative endpoint:
```
GET /api/population/summary
```

Example call:
```
GET /api/population/summary?year=2022&province=Punjab&metric=employment
```

This endpoint provides population summary data which may include employment statistics.

### 3. Households owning Home Appliances

```
GET /api/household/statistics
```

Example call:
```
GET /api/household/statistics?year=2022&province=Punjab&metric=home_appliances
```

This endpoint returns household statistics including data on home appliance ownership.

### 4. Household owning Agricultural Land

```
GET /api/household/statistics
```

Example call:
```
GET /api/household/statistics?year=2022&province=Punjab&metric=agricultural_land_ownership
```

This endpoint provides household statistics including data on agricultural land ownership.

### 5. Household owning Livestock

```
GET /api/household/statistics
```

Example call:
```
GET /api/household/statistics?year=2022&province=Punjab&metric=livestock_ownership
```

This endpoint returns household statistics including data on livestock ownership.

### Comprehensive Adaptive Capacity Data

To get all adaptive capacity indicators at once, you can use:

```
GET /api/ccvi/adaptive-capacity
```

Example call:
```
GET /api/ccvi/adaptive-capacity?year=2022&province=Punjab&district=Lahore
```

This endpoint provides the complete adaptive capacity component data, which likely includes aggregated values for all the adaptive capacity indicators.

## Overall Vulnerability Index

To get the combined vulnerability index that integrates all three components (exposure, sensitivity, and adaptive capacity):

```
GET /api/ccvi/vulnerability
```

Example call:
```
GET /api/ccvi/vulnerability?year=2022&province=Punjab&district=Lahore
```

This endpoint returns the overall vulnerability index, providing a comprehensive measure of climate change vulnerability for the specified location.

## Notes on API Usage

1. The specific parameter names (`metric`, `parameter`, etc.) used in the example calls are illustrative and may differ in the actual API implementation. Refer to the API documentation for the exact parameter names.

2. Some indicators may require post-processing of the API response to extract the specific data points of interest.

3. For time-series analysis, you can make multiple calls with different year parameters and compare the results.

4. For spatial comparisons, you can make calls with different geographical parameters (province, district, tehsil) and compare the results.

5. The API likely returns data in JSON format, which can be parsed and processed for analysis or visualization.

6. Consider implementing caching for frequently accessed reference data to improve application performance.
